# Система управления банковскими картами

### Основные возможности

- **Аутентификация и авторизация** через Spring Security с использованием JWT.
- **Роли:**
    - **ADMIN** — управление картами и пользователями (создание, блокировка, активация, удаление карт, просмотр всех карт, управление пользователями, просмотр баланса и истории переводов только для своих карт).
    - **USER** — просмотр и управление своими картами (поиск с пагинацией, запрос блокировки карты, переводы между своими картами, просмотр баланса и истории переводов только для своих карт).

- **API** включает:
    - CRUD операции для банковских карт.
    - Операции перевода средств между картами пользователя.
    - Фильтрация и постраничная выдача (пагинация).
    - Валидация входящих данных и обработка ошибок.

- **Безопасность:**
    - Шифрование данных (пароли и номера карт).
    - Ролевой доступ к ресурсам.
    - Маскирование номеров карт при выводе.

- **Работа с базой данных:**
    - PostgreSQL.
    - Миграции схемы через Liquibase (в папке `src/main/resources/db/migration`).

- **Документация:**
    - OpenAPI спецификация в формате YAML (`docs/openapi.yaml`).
    - [Swagger UI](http://localhost:8888/swagger-ui/index.html) для удобного тестирования API.

- **Развёртывание и тестирование:**
    - Конфигурация Docker Compose для локальной среды разработки.
    - Автоматические миграции базы данных.
    - Юнит-тесты ключевой бизнес-логики с хорошим покрытием.

## Инструкция запуска

1. Убедитесь, что у вас установлены Docker и Docker Compose.
2. В корне проекта выполните команду (для первого запуска):
   ```bash
   docker compose up --build -d
   ```
3. Для последующих запусков:
   ```bash
   docker compose up -d
   ```
4. Приложение будет доступно по адресу: http://localhost:8888
5. Документация API доступна по адресу: http://localhost:8888/swagger-ui/index.html